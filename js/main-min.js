"use strict";!function(){const e=["apple","apple","apple","apple","apple","apple","apple","apple","banana","banana","banana","banana","banana","banana","orange","orange","orange","orange","orange","pear","pear","pear","pear","grape","grape","grape","watermelon","watermelon","strawberry"];function a(a){for(let n=0;n<a;n++)$(".game-container").appendChild(Line.instance({fruits:[e[Random(0,e.length)],e[Random(0,e.length)],e[Random(0,e.length)],e[Random(0,e.length)]]}))}!async function(){if("serviceWorker"in navigator){await navigator.serviceWorker.register("./js/sw.js")}}();let n,t=0;$(".game-container").addEventListener("click",(e=>{if(e.target.classList.contains("no-support"))return;let n=0;if(n+=$$(".line-container:not(.claimed):has(:nth-child(4 of .apple))").length,n+=2*$$(".line-container:not(.claimed):has(:nth-child(4 of .orange))").length,n+=3*$$(".line-container:not(.claimed):has(:nth-child(4 of .banana))").length,n+=8*$$(".line-container:not(.claimed):has(:nth-child(4 of .pear))").length,n+=10*$$(".line-container:not(.claimed):has(:nth-child(4 of .grape))").length,n+=25*$$(".line-container:not(.claimed):has(:nth-child(4 of .watermelon))").length,n+=100*$$(".line-container:not(.claimed):has(:nth-child(4 of .strawberry))").length,n>0){$(".score").innerText=t+=n,a(1);let e=1/124,i=[{transform:`rotate(-6deg) scale(${e*n+(1.6-1*e)})`},{transform:"rotate(0deg) scale(1)"},{transform:"rotate(6deg) scale(1)"},{transform:"rotate(0deg) scale(1)"}],r={duration:270,fillMode:"fowards",timing:"ease-in"};$(".score").animate(i,r);let l=$$(".line-container:has(:nth-child(4 of .apple)), .line-container:has(:nth-child(4 of .orange)), .line-container:has(:nth-child(4 of .banana)), .line-container:has(:nth-child(4 of .pear)), .line-container:has(:nth-child(4 of .grape)), .line-container:has(:nth-child(4 of .watermelon)), .line-container:has(:nth-child(4 of .strawberry))");l.forEach(((e,a)=>{e.classList.add("claimed")})),setTimeout((()=>{l.forEach(((e,a)=>{e.remove()}))}),2e3)}})),a(18),document.addEventListener("drag",(e=>{e.target.closest("img")&&e.preventDefault()})),document.addEventListener("dragstart",(e=>{e.target.closest("img")&&e.preventDefault()}));const i=$(".pwa-install");window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),n=e,i.removeAttribute("hidden")})),$(".install-modal-close").addEventListener("click",(()=>{$(".install-modal").classList.remove("active")})),i.addEventListener("click",(async()=>{if(!n)return $(".install-modal").classList.add("active");await n.prompt();n=null,i.setAttribute("hidden","")}))}();