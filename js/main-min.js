"use strict";!function(){const e=["apple","apple","apple","apple","apple","apple","apple","apple","banana","banana","banana","banana","banana","banana","orange","orange","orange","orange","orange","pear","pear","pear","pear","grape","grape","grape","watermelon","watermelon","strawberry"];function n(n){for(let a=0;a<n;a++)$(".game-container").appendChild(Line.instance({fruits:[e[Random(0,e.length)],e[Random(0,e.length)],e[Random(0,e.length)],e[Random(0,e.length)]]}))}!async function(){if("serviceWorker"in navigator){await navigator.serviceWorker.register("./js/sw.js")}}();let a,t=0;$(".game-container").addEventListener("click",(e=>{if(e.target.classList.contains("no-support"))return;let a=0;if(a+=$$(".line-container:not(.claimed):has(:nth-child(4 of .apple))").length,a+=2*$$(".line-container:not(.claimed):has(:nth-child(4 of .orange))").length,a+=3*$$(".line-container:not(.claimed):has(:nth-child(4 of .banana))").length,a+=8*$$(".line-container:not(.claimed):has(:nth-child(4 of .pear))").length,a+=10*$$(".line-container:not(.claimed):has(:nth-child(4 of .grape))").length,a+=25*$$(".line-container:not(.claimed):has(:nth-child(4 of .watermelon))").length,a+=100*$$(".line-container:not(.claimed):has(:nth-child(4 of .strawberry))").length,a>0){$(".score").innerText=t+=a,n(1);let e=(2.8-1.6)/124,r=[{transform:`rotate(-6deg) scale(${e*a+(1.6-1*e)})`},{transform:"rotate(0deg) scale(1)"},{transform:"rotate(6deg) scale(1)"},{transform:"rotate(0deg) scale(1)"}],i={duration:270,fillMode:"fowards",timing:"ease-in"};$(".score").animate(r,i);let o=$$(".line-container:has(:nth-child(4 of .apple)), .line-container:has(:nth-child(4 of .orange)), .line-container:has(:nth-child(4 of .banana)), .line-container:has(:nth-child(4 of .pear)), .line-container:has(:nth-child(4 of .grape)), .line-container:has(:nth-child(4 of .watermelon)), .line-container:has(:nth-child(4 of .strawberry))");o.forEach(((e,n)=>{e.classList.add("claimed")})),setTimeout((()=>{o.forEach(((e,n)=>{e.remove()}))}),2e3)}})),n(18),document.addEventListener("drag",(e=>{e.target.closest("img")&&e.preventDefault()})),document.addEventListener("dragstart",(e=>{e.target.closest("img")&&e.preventDefault()}));const r=$(".pwa-install");window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),a=e,r.removeAttribute("hidden")})),r.addEventListener("click",(async()=>{if(!a)return alert("No install?");await a.prompt();a=null,r.setAttribute("hidden","")}))}();